// Type definitions for Cytoscape.js 3.19
// Project: http://js.cytoscape.org/
// Definitions by:  Fabian Schmidt and Fred Eisele <https://github.com/phreed>
//                  Shenghan Gao <https://github.com/wy193777>
//                  Yuri Pereira Constante <https://github.com/ypconstante>
//                  Jan-Niclas Struewer <https://github.com/janniclas>
//                  Andrej Kirejeŭ <https://github.com/gsbelarus>
//                  Peter Ferrarotto <https://github.com/peterjferrarotto>
//                  Xavier Ho <https://github.com/spaxe>
//                  Fredrik Sandström <https://github.com/Veckodag>
//                  Jan Zak <https://github.com/zakjan>
//                  Johan Svensson <https://github.com/jsve>
// Definitions: https://github.com/DefinitelyTyped/DefinitelyTyped
//
// Translation from Objects in help to Typescript interface.
// http://js.cytoscape.org/#notation/functions
// TypeScript Version: 2.3

import { Point } from "./geometry/point";

export type Graph = Elements;

export interface Elements {
  nodes: Node[];
  edges: Edge[];
}

export type Position = Point;

/**
 * Usually temp or nonserialisable data can be stored.
 * http://js.cytoscape.org/#notation/elements-json
 * http://js.cytoscape.org/#cy.scratch
 * http://js.cytoscape.org/#ele.scratch
 */
type Scratchpad = any;
type ElementGroup = 'nodes' | 'edges';
type CssStyleDeclaration = any;

interface Element {
  group?: ElementGroup | undefined;
  data: NodeDataDefinition | EdgeData;
  /**
   * Scratchpad data (usually temp or nonserialisable data)
   */
  scratch?: Scratchpad | undefined;
  /**
   * The model position of the node (optional on init, mandatory after)
   */
  position?: Position | undefined;
  /**
   * can alternatively specify position in rendered on-screen pixels
   */
  renderedPosition?: Position | undefined;
  /**
   * Whether the element is selected (default false)
   */
  selected?: boolean | undefined;
  /**
   * Whether the selection state is mutable (default true)
   */
  selectable?: boolean | undefined;
  /**
   * When locked a node's position is immutable (default false)
   */
  locked?: boolean | undefined;
  /**
   * Wether the node can be grabbed and moved by the user
   */
  grabbable?: boolean | undefined;
  /**
   * a space separated list of class names that the element has
   */
  classes?: string | undefined;
  /**
   *  CssStyleDeclaration;
   */
  style?: CssStyleDeclaration | undefined;
  /**
   * you should only use `style`/`css` for very special cases; use classes instead
   */
  css?: any | undefined;
}

interface ElementData {
  /**
   * elided id => autogenerated id
   */
  id?: string | undefined;
  position?: Position | undefined;
}

export interface Node extends Element {
  data: NodeDataDefinition;
}

export interface NodeDataDefinition extends ElementData {
  id?: string | undefined;
  parent?: string | undefined;
  // children's Node ids
  children?: string[];

  [key: string]: any;
}

export interface Edge extends Element {
  data: EdgeData;
}

export interface EdgeData extends ElementData {
  id?: string | undefined;

  /**
   * the source node id (edge comes from this node)
   */
  source: string;
  /**
   * the target node id (edge goes to this node)
   */
  target: string;

  [key: string]: any;
}
